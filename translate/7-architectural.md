# 设计可靠的 React 组件的 7 个准则

https://dmitripavlutin.com/7-architectural-attributes-of-a-reliable-react-component/

我非常喜欢 React 基于组件的架构方式。得益于组件化的可复用性和基于抽象 DOM 操作的优越性，你能够通过组合更小的部件，组成复杂的用户界面。

基于组件的开发方式有目共睹的对于效率的提升：一个复杂的系统通过特定的、易于管理的小部件们组成。但框架的优越性并不代表万事大吉，只有设计良好的组件才能确保组合和复用性的好处得到更好体现。

尽管应用程序很复杂，但是为了满足最后期限和意外变化的需求，你必须不断地走在正确架构设计这一独木桥上。让你的组件解耦，遵循单一职责原则(SRP)，且经过完善的测试。

不幸的是，这很容易让人走上错误的道路：编写具有很多职责的大型组件，紧密耦合组件，忘记单元测试。这些增加了技术债务，使得修改现有功能和新增新功能变得雪上加霜。

当我在开发 React 应用时，我会不禁问自己：

- 如何去正确设计一个组件的结构？
- 在什么情况下，一个规模庞大的组件应该拆分成规模更小的组件？
- 如何设计来防止组件间通信带来的紧耦合？

幸运的是，可靠的组件是有据可循，有理可依的。让我们研究一下这 7 个有用的设计准则，并辅助详细的案例研究。

> 内容清单
>
> 1. 单一职责  
>    1.1 多重责任的陷阱  
>    1.2 案例研究：使一个组件单一职责  
>    1.3 案例研究：高阶组件很适合实践单一职责原则
> 2. 封装  
>    2.1 隐藏内部信息  
>    2.2 通信  
>    2.3 案例研究：回复封装
> 3. 组合  
>    3.1 组合带来的收益
>
>    - 单一职责
>    - 可复用性
>    - 灵活性
>    - 效率提升
>
> 4. 可复用
> 5. “纯”或者“更纯”
> 6. 可测试和已测试
> 7. 有意义的
> 8. 继续提升
> 9. 可靠性很重要
> 10. 结束语
